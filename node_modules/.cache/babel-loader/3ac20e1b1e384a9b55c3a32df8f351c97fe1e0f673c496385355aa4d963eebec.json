{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useLocation,useNavigate}from'react-router-dom';import'./verify.css';// Import the CSS file\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Verification=()=>{const[username,setUsername]=useState('');const[verification_code,setVerificationCode]=useState('');const[errorMessage,setErrorMessage]=useState('');const navigate=useNavigate();const location=useLocation();useEffect(()=>{const queryParams=new URLSearchParams(location.search);const usernameFromParams=queryParams.get('username');if(usernameFromParams){setUsername(usernameFromParams);}},[location]);const handleVerificationSubmit=async event=>{event.preventDefault();try{const response=await fetch('https://qu2i9zbd96.execute-api.us-west-2.amazonaws.com/prod/verify',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username,verification_code})});const data=await response.json();if(response.ok){// Redirect to signin page upon successful verification\nnavigate('/signin');}else{setErrorMessage(data.error||'Verification failed');}}catch(error){console.error('Error during verification:',error);setErrorMessage('Error during verification');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"signup-button\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/signup'),children:\"Sign Up\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"verify-box\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Verification Form\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleVerificationSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",value:username,onChange:e=>setUsername(e.target.value),required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Verification Code\",value:verification_code,onChange:e=>setVerificationCode(e.target.value),required:true})}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:errorMessage}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"verify-button\",children:\"Verify\"})]})]})]});};export default Verification;","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","jsx","_jsx","jsxs","_jsxs","Verification","username","setUsername","verification_code","setVerificationCode","errorMessage","setErrorMessage","navigate","location","queryParams","URLSearchParams","search","usernameFromParams","get","handleVerificationSubmit","event","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","ok","error","console","className","children","onClick","onSubmit","type","placeholder","value","onChange","e","target","required"],"sources":["/home/vishal/Downloads/Terraform/my-react-app/src/Verify.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport './verify.css'; // Import the CSS file\n\nconst Verification = () => {\n  const [username, setUsername] = useState('');\n  const [verification_code, setVerificationCode] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  useEffect(() => {\n    const queryParams = new URLSearchParams(location.search);\n    const usernameFromParams = queryParams.get('username');\n    if (usernameFromParams) {\n      setUsername(usernameFromParams);\n    }\n  }, [location]);\n\n  const handleVerificationSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      const response = await fetch('https://qu2i9zbd96.execute-api.us-west-2.amazonaws.com/prod/verify', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ username, verification_code }),\n      });\n\n      const data = await response.json();\n      if (response.ok) {\n        // Redirect to signin page upon successful verification\n        navigate('/signin');\n      } else {\n        setErrorMessage(data.error || 'Verification failed');\n      }\n    } catch (error) {\n      console.error('Error during verification:', error);\n      setErrorMessage('Error during verification');\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"signup-button\">\n        <button onClick={() => navigate('/signup')}>Sign Up</button>\n      </div>\n      <div className=\"verify-box\">\n        <h2>Verification Form</h2>\n        <form onSubmit={handleVerificationSubmit}>\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              placeholder=\"Username\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              placeholder=\"Verification Code\"\n              value={verification_code}\n              onChange={(e) => setVerificationCode(e.target.value)}\n              required\n            />\n          </div>\n          {errorMessage && <p className=\"error-message\">{errorMessage}</p>}\n          <button type=\"submit\" className=\"verify-button\">Verify</button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Verification;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC3D,MAAO,cAAc,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvB,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACW,iBAAiB,CAAEC,mBAAmB,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAC7D,KAAM,CAACa,YAAY,CAAEC,eAAe,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAAAe,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAa,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAE9BD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAgB,WAAW,CAAG,GAAI,CAAAC,eAAe,CAACF,QAAQ,CAACG,MAAM,CAAC,CACxD,KAAM,CAAAC,kBAAkB,CAAGH,WAAW,CAACI,GAAG,CAAC,UAAU,CAAC,CACtD,GAAID,kBAAkB,CAAE,CACtBV,WAAW,CAACU,kBAAkB,CAAC,CACjC,CACF,CAAC,CAAE,CAACJ,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAM,wBAAwB,CAAG,KAAO,CAAAC,KAAK,EAAK,CAChDA,KAAK,CAACC,cAAc,CAAC,CAAC,CACtB,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,oEAAoE,CAAE,CACjGC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEtB,QAAQ,CAAEE,iBAAkB,CAAC,CACtD,CAAC,CAAC,CAEF,KAAM,CAAAqB,IAAI,CAAG,KAAM,CAAAP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAClC,GAAIR,QAAQ,CAACS,EAAE,CAAE,CACf;AACAnB,QAAQ,CAAC,SAAS,CAAC,CACrB,CAAC,IAAM,CACLD,eAAe,CAACkB,IAAI,CAACG,KAAK,EAAI,qBAAqB,CAAC,CACtD,CACF,CAAE,MAAOA,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CAClDrB,eAAe,CAAC,2BAA2B,CAAC,CAC9C,CACF,CAAC,CAED,mBACEP,KAAA,QAAK8B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBjC,IAAA,QAAKgC,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BjC,IAAA,WAAQkC,OAAO,CAAEA,CAAA,GAAMxB,QAAQ,CAAC,SAAS,CAAE,CAAAuB,QAAA,CAAC,SAAO,CAAQ,CAAC,CACzD,CAAC,cACN/B,KAAA,QAAK8B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBjC,IAAA,OAAAiC,QAAA,CAAI,mBAAiB,CAAI,CAAC,cAC1B/B,KAAA,SAAMiC,QAAQ,CAAElB,wBAAyB,CAAAgB,QAAA,eACvCjC,IAAA,QAAKgC,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBjC,IAAA,UACEoC,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,UAAU,CACtBC,KAAK,CAAElC,QAAS,CAChBmC,QAAQ,CAAGC,CAAC,EAAKnC,WAAW,CAACmC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC7CI,QAAQ,MACT,CAAC,CACC,CAAC,cACN1C,IAAA,QAAKgC,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBjC,IAAA,UACEoC,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,mBAAmB,CAC/BC,KAAK,CAAEhC,iBAAkB,CACzBiC,QAAQ,CAAGC,CAAC,EAAKjC,mBAAmB,CAACiC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACrDI,QAAQ,MACT,CAAC,CACC,CAAC,CACLlC,YAAY,eAAIR,IAAA,MAAGgC,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEzB,YAAY,CAAI,CAAC,cAChER,IAAA,WAAQoC,IAAI,CAAC,QAAQ,CAACJ,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC3D,CAAC,EACJ,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA9B,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}